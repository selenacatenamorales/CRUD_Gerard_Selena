<!DOCTYPE html>
<html>
    <head>
        <title>Save images to Local Storage</title>
        <meta charset="utf-8">
    </head>
    <body>

        <h1>Save images to Local Storage</h1>
        <input type="file" id="myFileInput">
        <img id="imgPreview" src="" alt="preview">

        <script>

            document.getElementById("myFileInput").addEventListener("change", function(){

                const reader = new FileReader();

                reader.addEventListener("load", () => {

                    localStorage.setItem("recent-image", reader.result);

                });

                reader.readAsDataURL(this.files[0]);

            });

            document.addEventListener("DOMContentLoaded", () => {

                const recentImgDataUrl = localStorage.getItem("recent-image");

                if (recentImgDataUrl){
                    document.getElementById("imgPreview").setAttribute("src", recentImgDataUrl);
                }

            });

        </script>

    </body>
</html>
